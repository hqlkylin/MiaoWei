<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>倒计时 - 妙味课堂 - www.miaov.com</title>
<!--[if lte IE 6]>
<script src="js/DD_belatedPNG_0.0.8a.js" type="text/javascript"></script>
    <script type="text/javascript">
        DD_belatedPNG.fix('a');
    </script>
<![endif]-->
<link href="style.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript">
        window.onload = function ()
        {
            var oFill = document.getElementById("fill_in");
            var iYear = oFill.getElementsByTagName("input")[0];
            var iMonth = oFill.getElementsByTagName("input")[1];
            var iDay = oFill.getElementsByTagName("input")[2];
            var oTarget = document.getElementById("target");
            var oDay = document.getElementById("day");
            var oHour = document.getElementById("hour");
            var oMin = document.getElementById("min");
            var oSec = document.getElementById("sec");
            var oGo = document.getElementById("go");
            var timer = null;
    

            

            oGo.onclick = function ()
            {
                var oStrong=oTarget.getElementsByTagName("strong")[0];
                oStrong.innerHTML = iYear.value + "年" + iMonth.value + "月" + iDay.value + "日";
                clearInterval(timer);
                timer = setInterval(updateTime, 1000);
                updateTime();
            }

            function updateTime()
            {


                var endTime = new Date();
                var newTime = new Date();
                endTime.setFullYear(parseInt(iYear.value));
                endTime.setMonth(parseInt(iMonth.value) - 1);
                endTime.setDate(parseInt(iDay.value));
                endTime.setHours(0);
                endTime.setMinutes(0);
                endTime.setSeconds(0);
                var sjc = endTime.getTime() - newTime.getTime();

                if (sjc < 1000)
                {
                    return;
                }
                var sjcDay = parseInt(sjc / 86400000);
                sjc = sjc % 86400000;
                var sjcHours = parseInt(sjc / 3600000);
                sjc = sjc % 3600000;
                var sjcMinutes = parseInt(sjc / 60000);
                sjc = sjc % 60000;
                var sjcSeconds = parseInt(sjc / 1000);

                oDay.innerHTML = setDigit(sjcDay, 3);
                oHour.innerHTML = setDigit(sjcHours, 2);
                oMin.innerHTML = setDigit(sjcMinutes, 2);
                oSec.innerHTML = setDigit(sjcSeconds, 2);
            }

            function setDigit(num, n)
            {
                num = "" + num;
                while (num.length < n)
                {
                    num = "0" + num;
                }
                return num;
            }
        };
    </script>
</head>

<body>

<div id="miaov">
    <div id="fill_in">
        <span class="title">请输入：</span>
        <input type="text" class="long_text" value="2014" />
        <span class="space1">年</span>
        <input type="text" class="text" value="11" />
        <span class="space2">月</span>
        <input type="text" class="text" value="19" />
        <span class="space3">日</span>
    </div>

    <a href="javascript:;" id="go" class="go"></a>
    <!--<a href="javascript:;" id="go2" class="active"></a>-->

    <p id="target">
        现在距离 -
        <strong></strong>
        - 还剩：
    </p>

    <div id="date">
        <p id="day">000</p>
        <p id="hour">00</p>
        <p id="min">00</p>
        <p id="sec">00</p>
    </div>

    <h1 title="妙味课堂-www.miaov.com"><a href="http://www.miaov.com"></a></h1>
</div>

</body>
</html>
