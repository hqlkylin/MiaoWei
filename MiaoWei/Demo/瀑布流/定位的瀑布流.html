<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
*{ margin:0; padding:0;}
li{ list-style:none;}

#div1{ width:785px; height:auto; margin:20px auto; position:relative;}
li{ position:absolute;}
</style>
<script type="text/javascript" src="new_ajax.js"></script>
<script>
window.onload = function(){

    var aLi = document.getElementsByTagName("li");
    
    var oLiHeight = { l: [], c: [], r: [] };

    for (var i = 0; i < aLi.length; i++)
    {
        var num = i % 3;
        switch (num)
        {
            case 0:
                aLi[i].style.left = "5px";
                oLiHeight.l.push(aLi[i].offsetHeight);
                var tem = i / 3;
                if (!tem)
                {
                    aLi[i].style.top = "0px"
                } else
                {
                    var top = 0;
                    for (var j = 0; j < tem; j++)
                    {
                        top += oLiHeight.l[j];
                    }
                    aLi[i].style.top = top + "px"
                }
                break;
            case 1:
                aLi[i].style.left = "240px";
                oLiHeight.c.push(aLi[i].offsetHeight);

                var tem = Math.floor(i / 3);
                console.info(tem);
                if (!tem)
                {
                    aLi[i].style.top = "0px"
                } else
                {
                    var top = 0;
                    for (var j = 0; j < tem; j++)
                    {
                        top += oLiHeight.c[j];

                    }
                    aLi[i].style.top = top + "px"
                }
                break;
            case 2:
                aLi[i].style.left = "475px";

                oLiHeight.r.push(aLi[i].offsetHeight);

                var tem =Math.floor(i / 3);

                if (!tem)
                {
                    aLi[i].style.top = "0px"
                } else
                {
                    var top = 0;
                    for (var j = 0; j < tem; j++)
                    {
                        top += oLiHeight.r[j];

                    }
             
                    aLi[i].style.top = top + "px"
                }
                break;
        }

    }


}
</script>
</head>

<body>
<div id="div1">
	<ul>
    	<li>
        	<img src="img/1.jpg" />
            <p>111111111</p>
        </li>
        <li>
        	<img src="img/2.jpg" />
            <p>111111111</p>
        </li>
        <li>
        	<img src="img/3.jpg" />
            <p>111111111</p>
        </li>
    	<li>
        	<img src="img/4.jpg" />
            <p>111111111</p>
        </li>
        <li>
        	<img src="img/5.jpg" />
            <p>111111111</p>
        </li>
        <li>
        	<img src="img/6.jpg" />
            <p>111111111</p>
        </li>
        <li>
        	<img src="img/9.jpg" />
            <p>111111111</p>
        </li>
    	<li>
        	<img src="img/7.jpg" />
            <p>111111111</p>
        </li>
        <li>
        	<img src="img/8.jpg" />
            <p>111111111</p>
        </li>
        <li>
        	<img src="img/9.jpg" />
            <p>111111111</p>
        </li>
    </ul>
</div>
</body>
</html>
